<!-- ì±—ë´‡ UI ì»´í¬ë„ŒíŠ¸ -->
<div id="chatbot-container" style="display: none;">
  <div id="chatbot-header">
    <span>ğŸ’¬ ì±—ë´‡ ë„ìš°ë¯¸</span>
    <button id="chatbot-close">âœ•</button>
  </div>
  <div id="chatbot-messages"></div>
  <div id="chatbot-input-container">
    <input type="text" id="chatbot-input" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
    <button id="chatbot-send">ì „ì†¡</button>
  </div>
</div>

<style>
#chatbot-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 350px;
  height: 500px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  display: flex;
  flex-direction: column;
  z-index: 10000;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

#chatbot-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px;
  border-radius: 10px 10px 0 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#chatbot-close {
  background: none;
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
}

#chatbot-messages {
  flex: 1;
  overflow-y: auto;
  padding: 15px;
  background: #f5f5f5;
}

.message {
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
}

.message.user {
  align-items: flex-end;
}

.message.bot {
  align-items: flex-start;
}

.message-bubble {
  max-width: 80%;
  padding: 10px 15px;
  border-radius: 18px;
  word-wrap: break-word;
}

.message.user .message-bubble {
  background: #667eea;
  color: white;
}

.message.bot .message-bubble {
  background: white;
  color: #333;
  border: 1px solid #e0e0e0;
}

#chatbot-input-container {
  display: flex;
  padding: 10px;
  border-top: 1px solid #e0e0e0;
  background: white;
  border-radius: 0 0 10px 10px;
}

#chatbot-input {
  flex: 1;
  padding: 10px;
  border: 1px solid #e0e0e0;
  border-radius: 20px;
  outline: none;
  margin-right: 10px;
}

#chatbot-send {
  padding: 10px 20px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 20px;
  cursor: pointer;
}

#chatbot-send:hover {
  background: #5568d3;
}

#chatbot-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 50%;
  color: white;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

#chatbot-toggle:hover {
  transform: scale(1.1);
  transition: transform 0.2s;
}
</style>

<script>
// ì±—ë´‡ ë¡œì§
(function() {
  const chatbotContainer = document.getElementById('chatbot-container');
  const chatbotToggle = document.getElementById('chatbot-toggle');
  const chatbotClose = document.getElementById('chatbot-close');
  const chatbotMessages = document.getElementById('chatbot-messages');
  const chatbotInput = document.getElementById('chatbot-input');
  const chatbotSend = document.getElementById('chatbot-send');

  // ì±—ë´‡ í† ê¸€
  chatbotToggle.addEventListener('click', () => {
    chatbotContainer.style.display = chatbotContainer.style.display === 'none' ? 'flex' : 'none';
    chatbotToggle.style.display = chatbotContainer.style.display === 'none' ? 'flex' : 'none';
  });

  chatbotClose.addEventListener('click', () => {
    chatbotContainer.style.display = 'none';
    chatbotToggle.style.display = 'flex';
  });

  // ë©”ì‹œì§€ ì¶”ê°€
  function addMessage(text, isUser) {
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;
    
    const bubble = document.createElement('div');
    bubble.className = 'message-bubble';
    bubble.textContent = text;
    
    messageDiv.appendChild(bubble);
    chatbotMessages.appendChild(messageDiv);
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
  }

  // ì±—ë´‡ ì‘ë‹µ ìƒì„±
  function getBotResponse(userMessage) {
    const message = userMessage.toLowerCase().trim();
    
    // ì¸ì‚¬
    if (message.includes('ì•ˆë…•') || message.includes('hello') || message.includes('hi')) {
      return 'ì•ˆë…•í•˜ì„¸ìš”! Error Archive ì±—ë´‡ì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?';
    }
    
    // ë¡œê·¸ì¸ ê´€ë ¨
    if (message.includes('ë¡œê·¸ì¸') || message.includes('login')) {
      return 'ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ì¹´ì¹´ì˜¤ë‚˜ ë„¤ì´ë²„ ê³„ì •ìœ¼ë¡œë„ ë¡œê·¸ì¸í•  ìˆ˜ ìˆì–´ìš”!';
    }
    
    // íšŒì›ê°€ì…
    if (message.includes('íšŒì›ê°€ì…') || message.includes('ê°€ì…') || message.includes('signup')) {
      return 'íšŒì›ê°€ì…ì€ ìƒë‹¨ì˜ "íšŒì›ê°€ì…" ë§í¬ë¥¼ í´ë¦­í•˜ì‹œë©´ ë©ë‹ˆë‹¤.';
    }
    
    // ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
    if (message.includes('ë¹„ë°€ë²ˆí˜¸') || message.includes('password') || message.includes('ì°¾ê¸°')) {
      return 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì°¾ìœ¼ì‹œë ¤ë©´ ìƒë‹¨ì˜ "ID/PW ì°¾ê¸°" ë§í¬ë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”.';
    }
    
    // ë„ì›€ë§
    if (message.includes('ë„ì›€') || message.includes('help') || message.includes('ë„ì™€')) {
      return 'ë‹¤ìŒê³¼ ê°™ì€ ì§ˆë¬¸ì— ë‹µë³€í•  ìˆ˜ ìˆì–´ìš”:\n- ë¡œê·¸ì¸ ë°©ë²•\n- íšŒì›ê°€ì…\n- ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°\n- ì„œë¹„ìŠ¤ ì†Œê°œ';
    }
    
    // ì„œë¹„ìŠ¤ ì†Œê°œ
    if (message.includes('ì„œë¹„ìŠ¤') || message.includes('ì†Œê°œ') || message.includes('ë­') || message.includes('what')) {
      return 'Error ArchiveëŠ” ì—ëŸ¬ ë¡œê·¸ë¥¼ ê´€ë¦¬í•˜ê³  ë¶„ì„í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê°œë°œìë“¤ì´ ì—ëŸ¬ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ë“œë ¤ìš”!';
    }
    
    // ê¸°ë³¸ ì‘ë‹µ
    const responses = [
      'ì£„ì†¡í•´ìš”, ê·¸ ì§ˆë¬¸ì— ëŒ€í•´ ì •í™•íˆ ë‹µë³€ë“œë¦¬ê¸° ì–´ë ¤ì›Œìš”. ë‹¤ë¥¸ ì§ˆë¬¸ì„ í•´ì£¼ì‹œê² ì–´ìš”?',
      'ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ì§ˆë¬¸í•´ì£¼ì‹œë©´ ë„ì™€ë“œë¦´ ìˆ˜ ìˆì–´ìš”!',
      'ë¡œê·¸ì¸, íšŒì›ê°€ì…, ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ë“±ì— ëŒ€í•´ ë¬¼ì–´ë³´ì‹¤ ìˆ˜ ìˆì–´ìš”.',
    ];
    return responses[Math.floor(Math.random() * responses.length)];
  }

  // ë©”ì‹œì§€ ì „ì†¡
  function sendMessage() {
    const message = chatbotInput.value.trim();
    if (!message) return;
    
    addMessage(message, true);
    chatbotInput.value = '';
    
    // ì±—ë´‡ ì‘ë‹µ (ì•½ê°„ì˜ ì§€ì—°)
    setTimeout(() => {
      const response = getBotResponse(message);
      addMessage(response, false);
    }, 500);
  }

  chatbotSend.addEventListener('click', sendMessage);
  chatbotInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      sendMessage();
    }
  });

  // ì´ˆê¸° ë©”ì‹œì§€
  setTimeout(() => {
    addMessage('ì•ˆë…•í•˜ì„¸ìš”! Error Archive ì±—ë´‡ì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?', false);
  }, 500);
})();
</script>

